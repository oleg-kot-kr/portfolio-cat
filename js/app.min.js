(()=>{"use strict";let e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};let t=!1;setTimeout((()=>{if(t){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);let n=document.querySelectorAll("[data-product-choice]");if(n.length>0)for(let t=0;t<n.length;t++){const i=n[t],a=i.querySelector("[data-product-value]"),c=a.innerHTML;let o=a.innerHTML;if(o=Number(o),(isNaN(o)||0==o)&&(i.classList.remove("_no-select"),i.classList.add("_not-available")),e.any()||0!==o&&i.addEventListener("click",(function(e){if(e.target.closest("[data-product-select]")){if(i.classList.contains("_select"))return i.addEventListener("mouseleave",(function(e){i.classList.remove("_select"),i.classList.add("_no-select")}),{once:!0}),a.innerHTML=c,o=a.innerHTML,o;if(o>0&&(o--,a.innerHTML=o,0===o))return i.classList.remove("_no-select"),i.classList.add("_not-available"),i.classList.contains("_select")||i.addEventListener("mouseleave",(function(e){i.classList.add("_select")}),{once:!0}),i.addEventListener("mouseenter",(function(e){i.addEventListener("click",(function(e){a.innerHTML=c,o=a.innerHTML,i.classList.remove("_not-available"),i.classList.add("_no-select")}),{once:!0})}),{once:!0}),void e.preventDefault()}s(e,i),e.preventDefault()})),e.any()){const e=document.createElement("button");e.classList.add("_reset-chosen");let t=0;i.append(e),0!==o&&i.addEventListener("click",(function(n){if(o>0&&(o--,a.innerHTML=o,i.classList.remove("_no-select"),i.classList.add("_select"),t++,e.innerHTML=`<p>Сбросить ${t}</p>`,e.classList.add("_active")||e.classList.add("_active"),e.addEventListener("click",(function(n){e.classList.remove("_active"),t=0,i.classList.remove("_select"),i.classList.remove("_not-available"),i.classList.add("_no-select"),a.innerHTML=c,o=a.innerHTML,n.stopPropagation(),n.preventDefault()})),0===o))return i.classList.add("_not-available"),void n.preventDefault();n.preventDefault()}))}}function s(e,t){e.target.closest("[data-product-select]")&&(t.classList.contains("_no-select")?t.addEventListener("mouseleave",(function(e){t.classList.remove("_no-select"),t.classList.add("_select")}),{once:!0}):t.classList.contains("_select")&&t.addEventListener("mouseleave",(function(e){t.classList.remove("_select"),t.classList.add("_no-select")}),{once:!0}))}window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),function(){if(document.querySelectorAll("[data-fullscreen]").length&&e.any()){function t(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}window.addEventListener("resize",t),t()}}()})();
